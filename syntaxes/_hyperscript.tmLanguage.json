{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "_hyperscript",
	"patterns": [
		{
			"name": "comment.line._hyperscript",
			"begin": "--",
			"end": "$"
		},
		{
			"include": "#commands"
		},
		{
			"include": "#keywords"
		},
		{
			"include": "#strings"
		}
	],
	"repository": {
		"keywords": {
			"name": "keyword._hyperscript",
			"patterns": [
				{
					"name": "keyword.control._hyperscript",
					"match": "\\b(catch|if|else|js|log|put|remove|repeat forever|repeat\\sfor|repeat\\sin|repeat\\swhile|repeat\\suntil\\sevent|repeat\\suntil|repeat|then|end|while|until|unless|for)\\b"
				},
				{
					"name": "keyword.other.command._hyperscript",
					"match": "\\b(add|async|call|get|hide|measure|add|async|call|get|hide|measure|return|send|settle|set|show|take|throw|toggle between|toggle|transition|trigger|wait for|wait|fetch|tell|go|increment|decrement|halt|make\\san|make\\sa|make)\\b"
				},
				{
					"name": "keyword.other.feature._hyperscript",
					"match": "\\b(on|def|js|worker|eventsource|socket|init|behavior|install|require)\\b"
				},
				{
					"name": "keyword.operator.expression._hyperscript",
					"match": "\\b(in|from|to|with|over|into|before|after|at\\send\\sof|at\\sstart\\sof|is\\san|is\\sa|is\\snot|is|am|as|and|or|no|closest|the|of|first|last|random|local|element|global|on|seconds|milliseconds|(\\s)s|(\\s)ms)\\b"
				},
				{
					"name": "keyword.operator._hyperscript",
					"match": "\\b(\\+|\\s-\\s|\\/|\\*|\\|->|<\\s|>|<=|>===|==|=|!==|!=|=|\\.\\.|([^\\d\\s]|^)\\.|\\%|\\||!|\\$|'s)\\b"
				}
			]
		},
		"strings": {
			"patterns": [
				{
					"name": "string.quoted.double._hyperscript",
					"begin": "\"",
					"end": "\"",
					"patterns": [
						{
							"include": "#inside-string"
						}
					]
				},
				{
					"name": "string.quoted.single._hyperscript",
					"begin": "'",
					"end": "'",
					"patterns": [
						{
							"include": "#inside-string"
						}
					]
				},
				{
					"name": "string.interpolated._hyperscript",
					"begin": "`",
					"end": "`",
					"patterns": [
						{
							"include": "#template"
						}
					]
				},
				{
					"name": "string.unquoted._hyperscript.nakedString",
					"begin": "(?<=(?:fetch|send|trigger|eventsource\\s+[\\w.:]+\\s+from|socket\\s+[\\w.:]+)\\s+)[^'\"`]",
					"end": "\\s"
				},
				{
					"name": "string.unquoted._hyperscript.eventName",
					"begin": "(?<=(on(\\severy)?|wait\\sfor|repeat\\suntil\\sevent)(\\(.*\\))\\s+(.*or\\s)?)[^'\"`]",
					"end": "(?=[^A-Za-z0-9.:_])"
				}
			]
		},
		"inside-string": {
			"patterns": [
				{
					"name": "constant.character.escape._hyperscript",
					"match": "\\\\."
				}
			]
		},
		"template": {
			"patterns": [
				{
					"name": "meta.template.expression._hyperscript",
					"begin": "\\$\\{",
					"end": "\\}",
					"patterns": [
						{
							"include": "$self"
						}
					]
				}
			]
		}
	},
	"scopeName": "source._hyperscript"
}